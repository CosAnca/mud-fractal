{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./core/modules/eventBus.js","webpack:///./core/modules/createEvents.js","webpack:///./core/loader.js","webpack:///./core/router/utils.js","webpack:///./core/router/history.js","webpack:///./core/router/lifecycle.js","webpack:///./core/router/cache.js","webpack:///./core/router/fetch.js","webpack:///./core/router/transition.js","webpack:///./core/router.js","webpack:///./app.js","webpack:///./behaviours lazy ^\\.\\/.*$ namespace object","webpack:///./plugins/logger.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","5","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","p","setTimeout","onScriptComplete","type","target","event","onerror","onload","clearTimeout","chunk","errorType","realSrc","error","Error","request","undefined","appendChild","all","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","bind","slice","eventBus","mitt__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","ramda__WEBPACK_IMPORTED_MODULE_1__","context","obj","_this","this","events","entries","map","_ref","_ref2","_slicedToArray","key","fn","eventAndNode","capture","log","funk","concat","_toConsumableArray","$delegate","emit","handleFunctions","evt","transform","fns","_$delegate","item","_ref3","_ref4","join","attachAll","dom_delegate__WEBPACK_IMPORTED_MODULE_0___default","a","_$delegate2","on","attach","remove","destroy","_$delegate3","off","$node","createEvent","initEvent","dispatchEvent","core_loader","state","stack","scope","gatherBehaviours","arguments","es","node","behaviour","then","resp","id","default","getAttribute","hydrate","querySelectorAll","Behaviour","init","mount","classList","contains","assign","unmount","parseUri","str","options","parser","strictMode","exec","uri","q","replace","$0","$1","$2","decodeParam","param","decodeURIComponent","_","strict","loose","history","matchRoute","exitTransition","enterTransition","utils_matchRoute","sensitive","end","path","keys","re","path_to_regexp_default","pathname","params","repeat","split","delimiter","flattenRoutes","acc","view","children","base","tmp","items","Array","isArray","utils_toConsumableArray","_extends","findRoute","routes","url","_parseUri","hash","host","queryKey","source","segments","anchor","filter","isRoot","slug","query","list","route","find","preventClick","element","href","which","metaKey","ctrlKey","shiftKey","altKey","location","protocol","hostname","indexOf","router_history","createBrowserHistory_default","listen","action","store","from","to","router_cache","cache","set","router_fetch","fetch","response","router_transition","el","updateDom","wrapper","newHtml","title","innerHTML","onExit","next","onAfterExit","onEnter","onAfterEnter","router_lifecycle","addRoutes","exit","trans","newState","method","transition","lifecycle_extends","markup","html","domify_default","querySelector","textContent","props","getElementById","router_Router","Router","_ref$wrapper","_classCallCheck","onMouseEnter","elm","onClick","stopPropagation","preventDefault","goTo","$events","$routes","$findRoute","$wrapper","createEvents","click a","mouseover a","some","exampleTransition","rest","_objectWithoutProperties","router","_ref5","_ref6","_ref7","_ref8","./ExampleClass","./ExampleClass.js","./ModuleA","./ModuleA.js","./ModuleB","./ModuleB.js","webpackAsyncContext","req","ids","code","global","debug__WEBPACK_IMPORTED_MODULE_0___default","disable"],"mappings":"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","file":"app.bundle.1527267239759.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t4: 0,\n \t\t5: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".bundle.1527267239759.js\";\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tfunction onScriptComplete(event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([16,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mitt from 'mitt'\n\nconst eventBus = mitt()\n\nexport default eventBus\n","import Delegate from 'dom-delegate'\nimport * as R from 'ramda'\n\nexport default R.curry(function(context, obj) {\n\tconst events = Object.entries(obj).map(([key, fn]) => {\n\t\tconst eventAndNode = R.compose(R.map(R.trim), R.split(' '))(key)\n\t\tconst capture = !!R.compose(R.length, R.match(/mouse/g), R.head)(\n\t\t\teventAndNode\n\t\t)\n\t\tconsole.log(capture)\n\t\tconst funk = typeof fn === 'string' ? this[fn] : fn\n\t\treturn [...eventAndNode, funk, capture]\n\t})\n\n\tlet $delegate\n\tlet emit\n\n\tconst handleFunctions = R.curry((evt, transform, fns) => {\n\t\tR.compose(\n\t\t\tR.forEach(event => $delegate[transform](...event)),\n\t\t\tR.map(item => {\n\t\t\t\treturn R.find(([a, b]) => [a, b].join(' ') === item)(evt)\n\t\t\t})\n\t\t)(fns)\n\t})(events)\n\n\treturn {\n\t\tattachAll() {\n\t\t\t$delegate = $delegate || new Delegate(context)\n\t\t\ttry {\n\t\t\t\tR.forEach(event => $delegate.on(...event))(events)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Handler must be a type of Function, careful with arrow functions, they will need to be above the events object:',\n\t\t\t\t\terr\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\tattach(fns) {\n\t\t\t$delegate = $delegate || new Delegate(context)\n\t\t\thandleFunctions('on', fns)\n\t\t},\n\n\t\tremove(fns) {\n\t\t\tif (!$delegate) return\n\t\t\thandleFunctions('off', fns)\n\t\t},\n\n\t\tdestroy() {\n\t\t\tif (!$delegate) return\n\t\t\tR.forEach(event => $delegate.off(...event))(events)\n\t\t},\n\n\t\temit($node, event) {\n\t\t\temit = emit || document.createEvent('HTMLEvents')\n\t\t\temit.initEvent(event, true, false)\n\t\t\t$node.dispatchEvent(emit)\n\t\t}\n\t}\n})\n","({\n\tplugins: 'jsdom-quokka-plugin',\n\tjsdom: {\n\t\thtml: `<div id=\"test\">\n            <b data-behaviour=\"ModuleA\"></b>\n            <div id=\"wrapper\">\n\t\t\t\t\t\t\t<b class=\"fake\" data-behaviour=\"ModuleB\"></b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`\n\t}\n})\n\nimport * as R from 'ramda'\n\nconst loader = (path = '../behaviours/') => {\n\tconst state = {\n\t\tstack: [],\n\t\tscope: []\n\t}\n\n\tconst PATH = path\n\n\tconst gatherBehaviours = R.compose(\n\t\tR.map(({ node, behaviour }) => {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\timport(`@/behaviours/${behaviour}`).then(resp => {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tid: behaviour,\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\tbehaviour: resp.default\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t}),\n\t\tR.flatten,\n\t\tR.map(node => {\n\t\t\treturn R.compose(\n\t\t\t\tR.map(behaviour => ({\n\t\t\t\t\tbehaviour, // replace with\n\t\t\t\t\tnode\n\t\t\t\t})),\n\t\t\t\tR.split(' '),\n\t\t\t\tR.replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, '')\n\t\t\t)(node.getAttribute('data-behaviour'))\n\t\t})\n\t)\n\n\tconst hydrate = context => {\n\t\treturn Promise.all(\n\t\t\tgatherBehaviours([...context.querySelectorAll('*[data-behaviour]')])\n\t\t).then(data => {\n\t\t\tconst stack = R.compose(\n\t\t\t\tR.map(({ behaviour: Behaviour, node, id }) => {\n\t\t\t\t\tconst fn = new Behaviour(node, id)\n\t\t\t\t\tfn.init()\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfn.mount()\n\t\t\t\t\t})\n\t\t\t\t\tconst destroy = node.classList.contains('fake')\n\t\t\t\t\treturn { fn, destroy, id }\n\t\t\t\t})\n\t\t\t)(data)\n\n\t\t\tconst scope = R.compose(\n\t\t\t\t//R.filter(({ fn }) => typeof fn === 'function'),\n\t\t\t\tR.filter(item => item.destroy)\n\t\t\t)(stack)\n\n\t\t\tObject.assign(state, { stack, scope })\n\n\t\t\treturn state\n\t\t})\n\t}\n\n\tconst unmount = () => {\n\t\tR.compose(\n\t\t\tR.map(item => {\n\t\t\t\titem.destroy()\n\t\t\t})\n\t\t)(state.scope)\n\t}\n\n\treturn {\n\t\thydrate,\n\t\tunmount\n\t}\n}\n\nexport default loader\n","import pathToRegexp from 'path-to-regexp'\nimport * as R from 'ramda'\n\nfunction parseUri(str) {\n\tlet o = parseUri.options,\n\t\tm = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str),\n\t\turi = {},\n\t\ti = 14\n\n\twhile (i--) uri[o.key[i]] = m[i] || '' // eslint-disable-line\n\n\turi[o.q.name] = {}\n\turi[o.key[12]].replace(o.q.parser, function($0, $1, $2) {\n\t\tif ($1) uri[o.q.name][$1] = $2\n\t})\n\n\treturn uri\n}\n\nparseUri.options = {\n\tstrictMode: false,\n\tkey: [\n\t\t'source',\n\t\t'protocol',\n\t\t'authority',\n\t\t'userInfo',\n\t\t'user',\n\t\t'password',\n\t\t'host',\n\t\t'port',\n\t\t'relative',\n\t\t'path',\n\t\t'directory',\n\t\t'file',\n\t\t'query',\n\t\t'anchor'\n\t],\n\tq: {\n\t\tname: 'queryKey',\n\t\tparser: /(?:^|&)([^&=]*)=?([^&]*)/g\n\t},\n\tparser: {\n\t\tstrict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n\t\tloose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n\t}\n}\n\nfunction createPathObject(options) {\n\toptions = options || {}\n\n\treturn function(path) {\n\t\tlet keys = []\n\t\tlet re = pathToRegexp(path, keys, options)\n\n\t\treturn function(pathname, params) {\n\t\t\tlet m = re.exec(pathname)\n\t\t\tif (!m) return false\n\n\t\t\tparams = params || {}\n\n\t\t\tlet key, param\n\t\t\tfor (let i = 0; i < keys.length; i += 1) {\n\t\t\t\tkey = keys[i]\n\t\t\t\tparam = m[i + 1]\n\t\t\t\tif (!param) continue\n\t\t\t\tparams[key.name] = decodeParam(param)\n\t\t\t\tif (key.repeat) params[key.name] = params[key.name].split(key.delimiter)\n\t\t\t}\n\n\t\t\treturn params\n\t\t}\n\t}\n}\n\nfunction decodeParam(param) {\n\ttry {\n\t\treturn decodeURIComponent(param)\n\t} catch (_) {\n\t\tconsole.error('decodeParam error')\n\t}\n}\n\nexport const matchRoute = createPathObject({\n\t// path-to-regexp options\n\tsensitive: false,\n\tstrict: false,\n\tend: false\n})\n\nexport const parseUrl = href => {\n\tconst { anchor: hash, host, path, queryKey, source } = parseUri(href)\n\n\tconst segments = path.split('/').filter(p => p.length)\n\tconst slug = segments[segments.length - 1]\n\n\treturn {\n\t\tisRoot: path === '/' ? true : false,\n\t\thash,\n\t\thost,\n\t\tpath,\n\t\tsegments,\n\t\tslug,\n\t\tsource,\n\t\tquery: queryKey,\n\t\tlength: segments.length\n\t}\n}\n\nexport const flattenRoutes = R.reduce((acc, { path, view, children, name }) => {\n\tconst base = path\n\tconst tmp = []\n\n\ttmp.push({ path: path, view: view, name })\n\n\tif (children) {\n\t\tconst items = Array.isArray(children) ? children : [children]\n\n\t\ttmp.push(\n\t\t\t...R.compose(\n\t\t\t\tR.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tpath: `${base}/${item.path}`.replace('//', '/')\n\t\t\t\t})),\n\t\t\t\tflattenRoutes\n\t\t\t)(items)\n\t\t)\n\t}\n\n\tacc.push(...tmp)\n\n\treturn acc\n}, [])\n\nexport const findRoute = R.curry(routes => {\n\treturn R.memoizeWith(R.identity, url => {\n\t\tconst data = parseUrl(url)\n\t\tconst { path: slug } = data\n\t\tconst list = R.filter(({ path }) => matchRoute(path)(slug))(routes)\n\t\tconst route =\n\t\t\tlist.length === 1 && slug !== '/'\n\t\t\t\t? routes.find(({ path }) => path === '*')\n\t\t\t\t: list[list.length - 1]\n\t\treturn {\n\t\t\troute,\n\t\t\tdata\n\t\t}\n\t})\n})\n// credit: https://github.com/luruke/barba.js/blob/master/src/Pjax/Pjax.js\nexport const preventClick = (evt, element) => {\n\tconst { href, pathname } = element\n\tif (!element || !href) return false\n\n\t//Middle click, cmd click, and ctrl click\n\tif (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)\n\t\treturn\n\n\t//Ignore target with _blank target\n\tif (element.target && element.target === '_blank') return\n\n\t//Check if it's the same domain\n\tif (\n\t\twindow.location.protocol !== element.protocol ||\n\t\twindow.location.hostname !== element.hostname\n\t)\n\t\treturn\n\n\t//Check if the port is the same\n\n\t//Ignore case when a hash is being tacked on the current URL\n\tif (href.indexOf('#') > -1) return\n\n\t//Ignore case where there is download attribute\n\tif (\n\t\telement.getAttribute &&\n\t\ttypeof element.getAttribute('download') === 'string'\n\t)\n\t\treturn\n\n\tif (element.classList.contains('nope')) return\n\n\treturn true\n}\n","import createHistory from 'history/createBrowserHistory'\nimport eventBus from '@/core/modules/eventBus'\n\nconst historyManager = (() => {\n\tconst history = createHistory()\n\n\thistory.listen((location, action) => {\n\t\tconst { pathname, state } = location\n\t\tif (action === 'POP') {\n\t\t\teventBus.emit('__route-pop__', pathname)\n\t\t}\n\t})\n\n\treturn {\n\t\tstore: {\n\t\t\tfrom: '',\n\t\t\tto: ''\n\t\t},\n\n\t\tpush(...args) {\n\t\t\thistory.push(...args)\n\t\t}\n\t}\n})()\n\nexport default historyManager\n","import { findRoute } from '@/core/router/utils'\nimport baseTransition from '@/core/router/transition'\nimport fetch from '@/core/router/fetch'\nimport cache from '@/core/router/cache'\nimport historyManager from '@/core/router/history'\nimport eventBus from '@/core/modules/eventBus'\nimport domify from 'domify'\n\nconst lifecycle = (() => {\n\tlet matchRoute\n\tlet exitTransition\n\tlet enterTransition\n\n\treturn {\n\t\taddRoutes(routes) {\n\t\t\tmatchRoute = findRoute(routes)\n\t\t\thistoryManager.store.from = matchRoute(window.location.pathname)\n\t\t},\n\n\t\texit(pathname, trans) {\n\t\t\tconst newState = matchRoute(pathname)\n\t\t\tconst view = trans ? trans : newState.route.view\n\t\t\thistoryManager.store.to = newState\n\n\t\t\teventBus.emit('route:exit')\n\n\t\t\texitTransition = Object.assign(\n\t\t\t\t{},\n\t\t\t\tbaseTransition,\n\t\t\t\thistoryManager.store.from.route.view\n\t\t\t)\n\t\t\tenterTransition = Object.assign({}, baseTransition, view)\n\n\t\t\tconst promise = (method, transition) =>\n\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\ttransition[method]({ next: resolve, ...historyManager.store })\n\t\t\t\t})\n\n\t\t\treturn Promise.all([promise('onExit', exitTransition), fetch(pathname)])\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst { data: markup } = cache.get(pathname)\n\n\t\t\t\t\teventBus.emit('route:exit:complete')\n\n\t\t\t\t\tconst html = domify(markup)\n\n\t\t\t\t\tconst title = html.querySelector('title').textContent\n\t\t\t\t\tconst newHtml = html.querySelector(enterTransition.el)\n\n\t\t\t\t\tconst props = {\n\t\t\t\t\t\twrapper: document.getElementById('page-wrapper'),\n\t\t\t\t\t\tnewHtml,\n\t\t\t\t\t\ttitle\n\t\t\t\t\t}\n\t\t\t\t\tenterTransition.updateDom({ ...props, ...historyManager.store })\n\t\t\t\t\texitTransition.onAfterExit({ ...props, ...historyManager.store })\n\n\t\t\t\t\treturn props\n\t\t\t\t})\n\t\t\t\t.then(props => {\n\t\t\t\t\teventBus.emit('route:enter')\n\n\t\t\t\t\tpromise('onEnter', enterTransition).then(() => {\n\t\t\t\t\t\tenterTransition.onAfterEnter({ ...props, ...historyManager.store })\n\t\t\t\t\t\thistoryManager.store.from = newState\n\t\t\t\t\t\teventBus.emit('route:enter:complete')\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t}\n\t}\n})()\n\nexport default lifecycle\n","const cache = (() => {\n\tconst cache = {}\n\n\treturn {\n\t\tset(key, value) {\n\t\t\tcache[key] = value\n\t\t},\n\n\t\tget(key) {\n\t\t\treturn cache[key]\n\t\t}\n\t}\n})()\n\nexport default cache\n","import cache from '@/core/router/cache'\n\nexport default (pathname, options = {}, type = 'text') => {\n\treturn new Promise(resolve => {\n\t\tif (cache.get(pathname)) {\n\t\t\tlog('from cache')\n\t\t\tresolve()\n\t\t\treturn\n\t\t}\n\n\t\tfetch(pathname, options)\n\t\t\t.then(response => response[type]())\n\t\t\t.then(data => {\n\t\t\t\tcache.set(pathname, {\n\t\t\t\t\tdata\n\t\t\t\t})\n\t\t\t\tresolve()\n\t\t\t})\n\t})\n}\n","export default {\n\tel: '.page-child',\n\n\tupdateDom: ({ wrapper, newHtml, title }) => {\n\t\twrapper.innerHTML = ''\n\t\twrapper.appendChild(newHtml)\n\t\tdocument.title = title\n\t},\n\n\tonExit: ({ next }) => {\n\t\tlog('onExit')\n\t\tnext()\n\t},\n\n\tonAfterExit: () => {\n\t\tlog('onAfterExit')\n\t},\n\n\tonEnter: ({ next }) => {\n\t\tlog('onEnter')\n\t\tnext()\n\t},\n\n\tonAfterEnter: () => {\n\t\tlog('onAfterEnter')\n\t}\n}\n","import createEvents from '@/core/modules/createEvents'\nimport eventBus from '@/core/modules/eventBus'\n\nimport { preventClick, flattenRoutes, findRoute } from '@/core/router/utils'\nimport historyManager from '@/core/router/history'\nimport cache from '@/core/router/cache'\nimport fetch from '@/core/router/fetch'\nimport lifecycle from '@/core/router/lifecycle'\n\nexport default class Router {\n\tconstructor({ routes, wrapper = 'page-wrapper' }) {\n\t\tthis.$routes = flattenRoutes(routes)\n\n\t\tlifecycle.addRoutes(this.$routes)\n\n\t\tthis.$findRoute = findRoute(this.$routes)\n\n\t\tthis.$wrapper = document.getElementById(wrapper)\n\n\t\tthis.$events = createEvents.call(this, document, {\n\t\t\t'click a': 'onClick',\n\t\t\t'mouseover a': 'onMouseEnter'\n\t\t})\n\t}\n\n\tstatic goTo = (pathname, transition) => {\n\t\tlifecycle.exit(pathname, transition).then(() => {\n\t\t\thistoryManager.push(pathname, { some: 'state' })\n\t\t})\n\t}\n\n\tonMouseEnter = (e, elm) => {\n\t\tconst { pathname } = elm\n\t\tif (!preventClick(e, elm) || cache.get(pathname)) {\n\t\t\treturn\n\t\t}\n\t\tfetch(pathname)\n\t}\n\n\tonClick = (e, elm) => {\n\t\tconst { pathname } = elm\n\n\t\tif (!preventClick(e, elm)) {\n\t\t\treturn\n\t\t}\n\n\t\te.stopPropagation()\n\t\te.preventDefault()\n\n\t\tif (pathname === window.location.pathname) return\n\n\t\tRouter.goTo(pathname)\n\t}\n\n\tmount = () => {\n\t\teventBus.on('__route-pop__', pathname => {\n\t\t\tlifecycle.exit(pathname)\n\t\t})\n\n\t\tthis.$events.attachAll()\n\t}\n}\n","import '@/plugins/logger'\nimport loader from '@/core/loader'\nimport Router from '@/core/router'\n\nconst load = loader('@/behaviours/')\n\nload.hydrate(document)\n\nif (module.hot) {\n\tmodule.hot.accept()\n}\n\nconst exampleTransition = {\n\tonExit: ({ next, ...rest }) => {\n\t\tlog('onExit', rest)\n\t\tnext()\n\t},\n\n\tonAfterExit: ({ ...rest }) => {\n\t\tlog('onAfterExit', rest)\n\t},\n\n\tonEnter: ({ next, ...rest }) => {\n\t\tlog('onEnter', rest)\n\t\tnext()\n\t},\n\n\tonAfterEnter: ({ ...rest }) => {\n\t\tlog('onAfterEnter', rest)\n\t}\n}\n\nnew Router({\n\troutes: [\n\t\t{\n\t\t\tpath: '/',\n\t\t\tview: exampleTransition\n\t\t},\n\t\t{\n\t\t\tpath: '/page-1/',\n\t\t\tview: exampleTransition,\n\t\t\tchildren: {\n\t\t\t\tpath: ':id',\n\t\t\t\tview: exampleTransition\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: '/page-2/',\n\t\t\tview: {\n\t\t\t\tonExit: ({ next, ...rest }) => {\n\t\t\t\t\tlog('onExit page-2', rest)\n\t\t\t\t\tnext()\n\t\t\t\t},\n\t\t\t\tonEnter: ({ next, ...rest }) => {\n\t\t\t\t\tlog('onEnter page-2', rest)\n\t\t\t\t\tnext()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: '/page-3/',\n\t\t\tview: {\n\t\t\t\tonExit: ({ next, ...rest }) => {\n\t\t\t\t\tlog('onExit page-3', rest)\n\t\t\t\t\tnext()\n\t\t\t\t},\n\t\t\t\tonEnter: ({ next, ...rest }) => {\n\t\t\t\t\tlog('onEnter page-3', rest)\n\t\t\t\t\tnext()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: '/page-4/',\n\t\t\tview: exampleTransition\n\t\t}\n\t]\n}).mount()\n","var map = {\n\t\"./ExampleClass\": [\n\t\t11,\n\t\t0,\n\t\t3\n\t],\n\t\"./ExampleClass.js\": [\n\t\t11,\n\t\t0,\n\t\t3\n\t],\n\t\"./ModuleA\": [\n\t\t10,\n\t\t0,\n\t\t2\n\t],\n\t\"./ModuleA.js\": [\n\t\t10,\n\t\t0,\n\t\t2\n\t],\n\t\"./ModuleB\": [\n\t\t9,\n\t\t0,\n\t\t1\n\t],\n\t\"./ModuleB.js\": [\n\t\t9,\n\t\t0,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 13;\nmodule.exports = webpackAsyncContext;","import debug from 'debug'\n\nwindow.log = global.log = debug('app:log')\n\nprocess.env.NODE_ENV === 'development'\n\t? debug.enable('app:log')\n\t: debug.disable('app:log')\n\nlog(`Logging is enabled!, NODE_ENV: ${process.env.NODE_ENV}`)\n"],"sourceRoot":""}