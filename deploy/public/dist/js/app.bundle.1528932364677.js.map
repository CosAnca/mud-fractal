{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./core/modules/eventBus.js","webpack:///./core/router/actions.js","webpack:///./core/modules/refs.js","webpack:///./core/modules/inview.js","webpack:///./core/modules/createEvents.js","webpack:///./core/router/fetch.worker.js","webpack:///./core/modules/loader.js","webpack:///./core/utils/strings.js","webpack:///./core/router/utils/parseUrl.js","webpack:///./core/router/utils/links.js","webpack:///./core/router/history.js","webpack:///./core/router/cache.js","webpack:///./core/router/request.js","webpack:///./core/router/utils/paths.js","webpack:///./core/router/utils/dom.js","webpack:///./core/router/transition.js","webpack:///./core/router/lifecycle.js","webpack:///./core/router/lazyload.js","webpack:///./core/router/index.js","webpack:///./views/loaders/pagination.js","webpack:///./app.js","webpack:///./core/App.js","webpack:///./views/index.js","webpack:///./behaviours lazy ^\\.\\/.*$ namespace object","webpack:///./plugins/logger.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","8","7","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","this","oldJsonpFunction","slice","eventBus","mitt__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","ROUTE_TRANSITION_COMPLETE","ROUTER_POP_EVENT","ROUTER_PAGE_NOT_FOUND","ROUTE_TRANSITION_LOAD","ROUTE_TRANSITION_EXIT","ROUTE_TRANSITION_RESOLVED","ROUTE_TRANSITION_BEFORE_DOM_UPDATE","ROUTE_TRANSITION_AFTER_DOM_UPDATE","ROUTE_TRANSITION_ENTER","sanitizeName","replace","$0","$1","toUpperCase","removeValueLess","ramda_src_filter__WEBPACK_IMPORTED_MODULE_3___default","_ref","getDataAttributes","attr","test","cleanName","ramda_src_map__WEBPACK_IMPORTED_MODULE_2___default","_ref2","substr","flattenToObject","ramda_src_reduce__WEBPACK_IMPORTED_MODULE_1___default","acc","_ref3","composeProps","ramda_src_compose__WEBPACK_IMPORTED_MODULE_0___default","createRefs","node","getAttribute","_extends","attributes","gatherProps","RefsMixin","superclass","_superclass","_class","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","arguments","_inherits","_createClass","$$refs","$el","querySelectorAll","_get","inview","base","events","defaultOptions","rootMargin","threshold","isActive","observer","onIntersection","entries","forEach","item","isIntersecting","unobserve","destroy","disconnect","watch","selector","_ref$options","options","IntersectionObserver","nodes","concat","_toConsumableArray","ramda_src_forEach__WEBPACK_IMPORTED_MODULE_0___default","observe","InviewMixin","viewport","$$inview","createEvents","ramda_src_curry__WEBPACK_IMPORTED_MODULE_9___default","context","obj","_this","map","_slicedToArray","fn","eventAndNode","ramda_src_compose__WEBPACK_IMPORTED_MODULE_8___default","ramda_src_map__WEBPACK_IMPORTED_MODULE_7___default","ramda_src_trim__WEBPACK_IMPORTED_MODULE_6___default","a","ramda_src_split__WEBPACK_IMPORTED_MODULE_5___default","capture","ramda_src_length__WEBPACK_IMPORTED_MODULE_4___default","ramda_src_match__WEBPACK_IMPORTED_MODULE_3___default","ramda_src_head__WEBPACK_IMPORTED_MODULE_2___default","funk","$delegate","emit","handleFunctions","evt","transform","fns","ramda_src_forEach__WEBPACK_IMPORTED_MODULE_1___default","_$delegate","ramda_src_find__WEBPACK_IMPORTED_MODULE_0___default","_ref4","join","attachAll","dom_delegate__WEBPACK_IMPORTED_MODULE_10___default","_$delegate2","on","attach","remove","_$delegate3","off","$node","createEvent","initEvent","dispatchEvent","EventsMixin","$$events","Worker","loader","state","stack","scope","gatherBehaviours","compose_default","map_default","behaviour","then","resp","id","default","flatten_default","split_default","replace_default","hydrate","wrapper","Behaviour","init","mount","closest","filter_default","assign","unmount","forEach_default","removeSpecialCharacters","trim_default","segmentize","memoizeWith_default","identity_default","str","join_default","over_default","lensIndex_default","toUpper_default","match","ch","toLower_default","beautifyPath","leadingSlashPath","slugFromPath","last_default","parseUri","parser","strictMode","exec","uri","q","$2","decodeParam","param","decodeURIComponent","_","strict","loose","parseUrl_matchRoute","path","keys","re","path_to_regexp_default","pathname","params","output","repeat","split","delimiter","createPathObject","sensitive","end","parseUrl_parseUrl","href","_parseUri","hash","anchor","host","queryKey","source","isRoot","raw","segments","slug","query","preventClick","element","which","metaKey","ctrlKey","shiftKey","altKey","window","location","protocol","hostname","indexOf","classList","contains","previous","$anchors","defaultClasses","activeLinks","root","parent","classes","classNames","url","_parseUrl","testSegments","className","add","reduce_default","links_toConsumableArray","_ref6","matchAgainst","length_default","take_default","groupBy_default","_ref7","head_default","history","store","router_history","createBrowserHistory_default","listen","action","actions","set","cache","router_cache","headers","X-SPONJS-ROUTE","fetch","response","ok","status","flattenRoutes","curr","tmpPath","children","rest","_objectWithoutProperties","tmp","paths_extends","items","Array","isArray","paths_toConsumableArray","mapChildren","container","pattern","paths_findRoute","routes","routeMap","_R$find","find_default","propEq_default","route","reverse_default","sortBy_default","prop_default","last","slugLength","pathLength","score","pageNo","parseInt","match_default","paths_matches","_R$find2","$body","setTransitionAttributes","body","lifecycle","from","_from","to","_to","toggleCustomBodyProp","prop","removeAttribute","router_transition","el","onLoad","props","info","shouldUnmount","shouldMount","onError","warn","updateDom","newHtml","title","innerHTML","onExit","next","onAfterExit","onEnter","onAfterEnter","matchRoute","exitTransition","enterTransition","router_lifecycle","addRoutes","routesObject","setWrapper","newState","view","transition","trans","dataAttrs","exitProps","oldHtml","querySelector","method","lifecycle_extends","lifecycle_slicedToArray","markup","html","domify_default","textContent","trim","customBodyProp","enterProps","worker","errorLinks","fetch_worker_default","enter","links","reject_default","contains_default","uniqBy_default","postMessage","addEventListener","validLinks","link","_temp","defaultRoutes","core_router","Router","rootNode","navLinks","_ref$prefectTargets","prefectTargets","onMouseEnter","elm","catch","onClick","stopPropagation","preventDefault","refs","router_toConsumableArray","goTo","$links","$events","lazyload","$wrapper","click a","mouseover a","_ref5","prevHtml","nextHtml","toggleBtnState","pagination","display","$btn","style","_from$options","paginationParent","fromPageNumber","fromOptions","toPageNumber","alienPage","$previousWrapper","previousElementSibling","tempPrev","parentNode","removeChild","insertBefore","App","router","chunks","App_classCallCheck","$loader","$router","App_extends","log","things","getElementById","app_toConsumableArray","./Header","./Header.js","./HomePage","./HomePage.js","./Page1","./Page1.js","./Page2","./Page2.js","./Page3","./Page3.js","./Page4","./Page4.js","webpackAsyncContext","req","ids","code","global","debug__WEBPACK_IMPORTED_MODULE_0___default","disable"],"mappings":"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","file":"app.bundle.1528932364677.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t8: 0,\n \t\t7: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".bundle.1528932364677.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([71,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mitt from 'mitt'\n\nconst eventBus = mitt()\n\nexport default eventBus\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","/*\n\tNames for the events emiitted through the route class\n\n\tThe names should be pretty self explanatory \n*/\n\nexport const ROUTER_POP_EVENT = 'ROUTER_POP_EVENT'\n\nexport const ROUTER_PAGE_NOT_FOUND = 'ROUTER_POP_EVENT'\n\nexport const ROUTE_LINK_CLICKED = 'ROUTE_LINK_CLICKED'\n\nexport const ROUTE_TRANSITION_LOAD = 'ROUTE_TRANSITION_LOAD'\n\nexport const ROUTE_TRANSITION_EXIT = 'ROUTE_TRANSITION_EXIT'\n\nexport const ROUTE_TRANSITION_RESOLVED = 'ROUTE_TRANSITION_RESOLVED'\n\nexport const ROUTE_TRANSITION_BEFORE_DOM_UPDATE =\n\t'ROUTE_TRANSITION_BEFORE_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_AFTER_DOM_UPDATE =\n\t'ROUTE_TRANSITION_AFTER_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_ENTER = 'ROUTE_TRANSITION_ENTER'\n\nexport const ROUTE_TRANSITION_COMPLETE = 'ROUTE_TRANSITION_COMPLETE'\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\n// Does this need any comments?\n\nconst sanitizeName = name => name.replace(/-(.)/g, ($0, $1) => $1.toUpperCase())\n\nconst removeValueLess = R.filter(({ value }) => value)\n\nconst getDataAttributes = R.filter(\n\tattr =>\n\t\t/^data-/.test(attr.name) &&\n\t\tattr.name !== 'data-element' &&\n\t\tattr.name !== 'data-behaviour'\n)\n\nconst cleanName = R.map(({ name, value }) => ({\n\tname: sanitizeName(name.substr(5)),\n\tvalue\n}))\n\nconst flattenToObject = R.reduce((acc, { name: key, value }) => {\n\tacc[key] = value\n\treturn acc\n}, {})\n\nexport const composeProps = R.compose(\n\tflattenToObject,\n\tcleanName,\n\tremoveValueLess,\n\tgetDataAttributes\n)\n\nconst gatherProps = node => composeProps([...node.attributes])\n\nconst createRefs = R.reduce((acc, node) => {\n\tacc[`${sanitizeName(node.getAttribute('data-element'))}`] = {\n\t\tnode,\n\t\t...gatherProps(node)\n\t}\n\n\treturn acc\n}, {})\n\nexport default root => createRefs([...root.querySelectorAll('*[data-element]')])\n\nexport const RefsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$refs = createRefs([\n\t\t\t\t...this.$el.querySelectorAll('*[data-element]')\n\t\t\t])\n\t\t\tif (super.init) super.init()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\nexport function inview(base = document, events = {}) {\n\tif (!events) return\n\n\tconst defaultOptions = {\n\t\trootMargin: '0px',\n\t\tthreshold: 0\n\t}\n\n\tlet isActive = false\n\tlet observer\n\n\tconst onIntersection = entries => {\n\t\tentries.forEach(item => {\n\t\t\tconst { isIntersecting } = item\n\t\t\tconst type = isIntersecting ? 'enter' : 'exit'\n\t\t\tif (events[type]) {\n\t\t\t\tconst remove = events[type](item)\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tobserver.unobserve(item.target)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction watch({ selector, options = defaultOptions }) {\n\t\tisActive = true\n\t\tobserver = new IntersectionObserver(onIntersection, options)\n\t\tconst nodes =\n\t\t\ttypeof selector === 'string'\n\t\t\t\t? [...base.querySelectorAll(selector)]\n\t\t\t\t: selector\n\n\t\tR.forEach(item => {\n\t\t\tobserver.observe(item)\n\t\t})(nodes)\n\t}\n\n\tfunction destroy() {\n\t\tif (observer && isActive) {\n\t\t\tobserver.disconnect()\n\t\t\tisActive = false\n\t\t}\n\t}\n\n\treturn {\n\t\tdestroy,\n\t\twatch\n\t}\n}\n\nexport const InviewMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tconst events = this.viewport\n\t\t\tconst base = this.$el\n\t\t\tthis.$$inview = inview(base, events)\n\n\t\t\tif (super.init) super.init()\n\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$inview.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import Delegate from 'dom-delegate'\nimport * as R from 'ramda'\n\nexport const createEvents = R.curry(function(context, obj) {\n\tconst events = Object.entries(obj).map(([key, fn]) => {\n\t\tconst eventAndNode = R.compose(R.map(R.trim), R.split(' '))(key)\n\t\tconst capture = !!R.compose(R.length, R.match(/mouse/g), R.head)(\n\t\t\teventAndNode\n\t\t)\n\t\tconst funk = typeof fn === 'string' ? this[fn] : fn\n\t\treturn [...eventAndNode, funk, capture]\n\t})\n\n\tlet $delegate\n\tlet emit\n\n\tconst handleFunctions = R.curry((evt, transform, fns) => {\n\t\tR.compose(\n\t\t\tR.forEach(event => $delegate[transform](...event)),\n\t\t\tR.map(item => R.find(([a, b]) => [a, b].join(' ') === item)(evt))\n\t\t)(fns)\n\t})(events)\n\n\treturn {\n\t\tattachAll() {\n\t\t\t$delegate = $delegate || new Delegate(context)\n\t\t\ttry {\n\t\t\t\tR.forEach(event => $delegate.on(...event))(events)\n\t\t\t} catch (err) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Handler must be a type of Function, careful with arrow functions, they will need to be above the events object:',\n\t\t\t\t\terr\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\tattach(fns) {\n\t\t\t$delegate = $delegate || new Delegate(context)\n\t\t\thandleFunctions('on', fns)\n\t\t},\n\n\t\tremove(fns) {\n\t\t\tif (!$delegate) return\n\t\t\thandleFunctions('off', fns)\n\t\t},\n\n\t\tdestroy() {\n\t\t\tif (!$delegate) return\n\t\t\tR.forEach(event => $delegate.off(...event))(events)\n\t\t},\n\n\t\temit($node, event) {\n\t\t\temit = emit || document.createEvent('HTMLEvents')\n\t\t\temit.initEvent(event, true, false)\n\t\t\t$node.dispatchEvent(emit)\n\t\t}\n\t}\n})\n\nexport const EventsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$events = createEvents.call(this, this.$el, this.events)\n\n\t\t\tif (super.init) super.init()\n\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$events.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"63129cf50f640e487c3f.worker.js\");\n};\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\n/**\n *\n * @function loader\n *\n * @param :promise -> behaviour => import(`@/behaviours/${behaviour}`)\n *\n * @return :object\n *\n */\n\nexport default function loader(fn) {\n\tconst state = {\n\t\tstack: [],\n\t\tscope: []\n\t}\n\n\t// get all of the data-behaviour props\n\t// return an array of behaviour objects\n\tconst gatherBehaviours = R.compose(\n\t\tR.map(\n\t\t\t({ node, behaviour }) =>\n\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\tfn(behaviour).then(resp => {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tid: behaviour,\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tbehaviour: resp.default\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t),\n\t\tR.flatten,\n\t\tR.map(node =>\n\t\t\tR.compose(\n\t\t\t\tR.map(behaviour => ({\n\t\t\t\t\tbehaviour,\n\t\t\t\t\tnode\n\t\t\t\t})),\n\t\t\t\tR.split(' '),\n\t\t\t\tR.replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, '')\n\t\t\t)(node.getAttribute('data-behaviour'))\n\t\t)\n\t)\n\n\t/**\n\t * @public\n\t *\n\t * Get data behaviours and instantiate\n\t *\n\t * @function hydrate\n\t *\n\t * @param :HTMLElement\n\t * @param :string - css selector\n\t *\n\t * @return :object\n\t *\n\t */\n\tfunction hydrate(context, wrapper = '#page-wrapper') {\n\t\treturn Promise.all(\n\t\t\tgatherBehaviours([...context.querySelectorAll('*[data-behaviour]')])\n\t\t).then(data => {\n\t\t\tconst stack = R.compose(\n\t\t\t\tR.map(({ behaviour: Behaviour, node, id }) => {\n\t\t\t\t\tconst fn = new Behaviour(node, id)\n\t\t\t\t\tfn.init()\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfn.mount()\n\t\t\t\t\t})\n\t\t\t\t\tconst destroy = node.closest(wrapper)\n\t\t\t\t\treturn { fn, destroy, id }\n\t\t\t\t})\n\t\t\t)(data)\n\n\t\t\tconst scope = R.compose(\n\t\t\t\t// R.filter(({ fn }) => typeof fn === 'function'),\n\t\t\t\tR.filter(item => item.destroy)\n\t\t\t)(stack)\n\n\t\t\tObject.assign(state, { stack, scope })\n\n\t\t\treturn state\n\t\t})\n\t}\n\n\t/**\n\t * @public\n\t *\n\t * destroy the behaviours\n\t *\n\t * @function unmount\n\t *\n\t * @return voide\n\t *\n\t */\n\tfunction unmount() {\n\t\tR.compose(\n\t\t\tR.forEach(({ fn }) => {\n\t\t\t\tfn.destroy()\n\t\t\t})\n\t\t)(state.scope)\n\t}\n\n\treturn {\n\t\thydrate,\n\t\tunmount\n\t}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\nexport const removeSpecialCharacters = R.compose(\n\tR.trim,\n\tR.replace(/\\s+/g, ' '),\n\tR.replace(/[^a-zA-Z\\d\\s:]/g, '')\n)\n\nexport const pascalify = R.memoizeWith(R.identity, str =>\n\tR.compose(\n\t\tR.join(''),\n\t\tR.over(R.lensIndex(0))(R.toUpper),\n\t\tR.replace(/[\\s]+(.)?/g, (match, ch) => (ch ? R.toUpper(ch) : '')),\n\t\tR.toLower,\n\t\tremoveSpecialCharacters\n\t)(str)\n)\n\nexport const camelify = R.memoizeWith(R.identity, str =>\n\tR.compose(\n\t\tR.replace(/[\\s]+(.)?/g, (match, ch) => (ch ? R.toUpper(ch) : '')),\n\t\tR.toLower,\n\t\tremoveSpecialCharacters\n\t)(str)\n)\n\nexport const slugify = R.memoizeWith(R.identity, str =>\n\tR.compose(\n\t\tR.replace(/[\\s]+(.)?/g, (match, ch) => (ch ? `-${R.toLower(ch)}` : '')),\n\t\tR.toLower,\n\t\tremoveSpecialCharacters\n\t)(str)\n)\n\nexport const snakeify = R.memoizeWith(R.identity, str =>\n\tR.compose(\n\t\tR.replace(/[\\s]+(.)?/g, (match, ch) => (ch ? `_${R.toLower(ch)}` : '')),\n\t\tR.toLower,\n\t\tremoveSpecialCharacters\n\t)(str)\n)\n\nexport const segmentize = R.compose(\n\tR.filter(R.identity),\n\tR.split('/'),\n\tR.replace(/(^\\/+|\\/+$)/g, '')\n)\n\nexport const beautifyPath = R.compose(R.join('/'), segmentize)\n\nexport const leadingSlashPath = str => `/${beautifyPath(str)}`\n\nexport const slugFromPath = R.compose(R.last, segmentize)\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import pathToRegexp from 'path-to-regexp'\nimport { segmentize, beautifyPath, slugFromPath } from '@/core/utils/strings'\n/**\n * extracts meta data from urls (queries, hash, host, et al)\n *\n * @function parseUri\n *\n * @param :string url\n *\n * @return :object\n */\nexport function parseUri(str) {\n\tconst o = parseUri.options\n\tconst m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str)\n\tconst uri = {}\n\tlet i = 14\n\n\twhile (i--) uri[o.key[i]] = m[i] || '' // eslint-disable-line\n\n\turi[o.q.name] = {}\n\turi[o.key[12]].replace(o.q.parser, ($0, $1, $2) => {\n\t\tif ($1) uri[o.q.name][$1] = $2\n\t})\n\n\treturn uri\n}\n\nparseUri.options = {\n\tstrictMode: false,\n\tkey: [\n\t\t'source',\n\t\t'protocol',\n\t\t'authority',\n\t\t'userInfo',\n\t\t'user',\n\t\t'password',\n\t\t'host',\n\t\t'port',\n\t\t'relative',\n\t\t'path',\n\t\t'directory',\n\t\t'file',\n\t\t'query',\n\t\t'anchor'\n\t],\n\tq: {\n\t\tname: 'queryKey',\n\t\tparser: /(?:^|&)([^&=]*)=?([^&]*)/g\n\t},\n\tparser: {\n\t\tstrict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n\t\tloose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n\t}\n}\n\nfunction decodeParam(param) {\n\ttry {\n\t\treturn decodeURIComponent(param)\n\t} catch (_) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error('decodeParam error')\n\t}\n}\n\n/**\n *\n * @function createPathObject\n *\n * @param :object pathToRegexp options\n *\n * @return :function\n */\nfunction createPathObject(options = {}) {\n\t/**\n\t *\n\t * @param :string the test path\n\t *\n\t * @return :function\n\t */\n\treturn function(path) {\n\t\tconst keys = []\n\t\tconst re = pathToRegexp(path, keys, options)\n\n\t\t/**\n\t\t * @param :string // the url you want to match\n\t\t * @param :object\n\t\t *\n\t\t * @return :object / :boolean\n\t\t */\n\t\treturn function(pathname, params = {}) {\n\t\t\tconst m = re.exec(pathname)\n\t\t\tif (!m) return false\n\t\t\tconst output = params\n\n\t\t\tlet key\n\t\t\tlet param\n\t\t\tfor (let i = 0; i < keys.length; i += 1) {\n\t\t\t\tkey = keys[i]\n\t\t\t\tparam = m[i + 1]\n\t\t\t\t// eslint-disable-next-line no-continue\n\t\t\t\tif (!param) continue\n\t\t\t\toutput[key.name] = decodeParam(param)\n\t\t\t\tif (key.repeat) output[key.name] = params[key.name].split(key.delimiter)\n\t\t\t}\n\n\t\t\treturn output\n\t\t}\n\t}\n}\n\n/**\n *\n * @function matchRoute\n *\n * @return :function\n */\nexport const matchRoute = createPathObject({\n\t// path-to-regexp options\n\tsensitive: false,\n\tstrict: false,\n\tend: false\n})\n\n/**\n *\n * @function parseUrl\n *\n * @param :string url...\n *\n * @return :object\n */\nexport const parseUrl = href => {\n\tconst { anchor: hash, host, path, queryKey, source } = parseUri(href)\n\treturn {\n\t\tisRoot: path === '/',\n\t\tpath: beautifyPath(path),\n\t\traw: path,\n\t\tsegments: segmentize(path),\n\t\tslug: slugFromPath(path),\n\t\thash,\n\t\thost,\n\t\tsource,\n\t\tquery: queryKey\n\t}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\nimport { segmentize, beautifyPath } from '@/core/utils/strings'\nimport { parseUrl } from './parseUrl'\n\n/**\n * credit:\n *\n * https://github.com/luruke/barba.js/blob/master/src/Pjax/Pjax.js\n *\n */\nexport function preventClick(evt, element) {\n\tif (!element || !element.href) return\n\n\tconst { href } = element\n\n\t// Middle click, cmd click, and ctrl click\n\tif (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)\n\t\treturn\n\n\t// Ignore target with _blank target\n\tif (element.target && element.target === '_blank') return\n\n\t// Check if it's the same domain\n\tif (\n\t\twindow.location.protocol !== element.protocol ||\n\t\twindow.location.hostname !== element.hostname\n\t)\n\t\treturn\n\n\t// Check if the port is the same\n\n\t// Ignore case when a hash is being tacked on the current URL\n\tif (href.indexOf('#') > -1) return\n\n\t// Ignore case where there is download attribute\n\tif (\n\t\telement.getAttribute &&\n\t\ttypeof element.getAttribute('download') === 'string'\n\t)\n\t\treturn\n\n\tif (element.classList.contains('no-spon')) return\n\n\treturn true\n}\n\nexport const activeLinks = (() => {\n\tlet previous\n\tlet $anchors = []\n\n\tconst defaultClasses = {\n\t\tmatch: 'is-current',\n\t\troot: 'is-current-root',\n\t\tparent: 'is-current-parent'\n\t}\n\n\treturn ({ scope, classes }) => {\n\t\t$anchors = scope\n\n\t\tconst classNames = {\n\t\t\t...defaultClasses,\n\t\t\t...classes\n\t\t}\n\n\t\treturn url => {\n\t\t\tconst { path, segments: testSegments } = parseUrl(url)\n\n\t\t\tif (previous) {\n\t\t\t\tR.forEach(({ node, className }) => {\n\t\t\t\t\tif (classNames[className]) {\n\t\t\t\t\t\tnode.classList.remove(classNames[className])\n\t\t\t\t\t}\n\t\t\t\t})(previous)\n\n\t\t\t\tprevious = []\n\t\t\t}\n\n\t\t\tprevious = R.compose(\n\t\t\t\tR.forEach(({ node, className }) => {\n\t\t\t\t\tif (classNames[className]) {\n\t\t\t\t\t\tnode.classList.add(classNames[className])\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tR.reduce((acc, [, value]) => {\n\t\t\t\t\tacc.push(...value)\n\t\t\t\t\treturn acc\n\t\t\t\t}, []),\n\t\t\t\tObject.entries,\n\t\t\t\tR.map(\n\t\t\t\t\tR.compose(\n\t\t\t\t\t\tR.filter(\n\t\t\t\t\t\t\t({ segments, matchAgainst }) =>\n\t\t\t\t\t\t\t\tmatchAgainst === R.join('/', segments)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tR.map(node => {\n\t\t\t\t\t\t\tconst { href } = node\n\t\t\t\t\t\t\tconst { path: pathname } = parseUrl(href)\n\n\t\t\t\t\t\t\tconst segments = segmentize(pathname)\n\t\t\t\t\t\t\tconst length = R.length(segments)\n\t\t\t\t\t\t\tconst matchAgainst = R.compose(R.join('/'), R.take(length))(\n\t\t\t\t\t\t\t\ttestSegments\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\t\tsegments,\n\t\t\t\t\t\t\t\tmatchAgainst,\n\t\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t\tbeautifyPath(pathname) === path\n\t\t\t\t\t\t\t\t\t\t? 'match'\n\t\t\t\t\t\t\t\t\t\t: length === 1 ? 'root' : 'parent'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tR.groupBy(({ pathname }) => segmentize(pathname).length),\n\t\t\t\tR.filter(item => {\n\t\t\t\t\tconst { href } = item\n\t\t\t\t\tconst { path: pathname } = parseUrl(href)\n\n\t\t\t\t\tconst segments = segmentize(pathname)\n\t\t\t\t\treturn (\n\t\t\t\t\t\tR.head(segments) === R.head(testSegments) &&\n\t\t\t\t\t\tsegments.length <= testSegments.length\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t)($anchors)\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import createHistory from 'history/createBrowserHistory'\nimport eventBus from '@/core/modules/eventBus'\nimport * as Action from './actions'\n\n/** *\n *\n * Create a history listener and listen for stuff\n *\n * @return object\n */\nconst historyManager = (() => {\n\t// create a new history instance\n\tconst history = createHistory()\n\t// object to how the current/previous paths\n\tconst store = {}\n\n\t// listen to any history changes\n\thistory.listen((location, action) => {\n\t\tconst { pathname, state } = location\n\t\t// if 'POP'... i.e forward/backward\n\t\t// emit the event\n\t\tif (action === 'POP') {\n\t\t\teventBus.emit(Action.ROUTER_POP_EVENT, { pathname, state })\n\t\t}\n\t})\n\n\treturn {\n\t\t/** *\n\t\t * set('string', value)\n\t\t *\n\t\t * set an item into the history store\n\t\t *\n\t\t * @param :string, :any\n\t\t *\n\t\t * @return void\n\t\t */\n\t\tset(key, value) {\n\t\t\tstore[key] = value\n\t\t},\n\n\t\t/** *\n\t\t * get('string')\n\t\t *\n\t\t * get an item from the history store\n\t\t *\n\t\t * @param :string\n\t\t *\n\t\t * @return :any\n\t\t */\n\t\tget(key) {\n\t\t\treturn store[key]\n\t\t},\n\n\t\t/*\n\t\t\twrapper function\n\t\t\t\n\t\t\teg: history.push('/home', { some: 'state' })\n\t\t*/\n\t\tpush(...args) {\n\t\t\thistory.push(...args)\n\t\t}\n\t}\n})()\n\nexport default historyManager\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { leadingSlashPath } from '@/core/utils/strings'\n\n/** *\n * Cache object\n *\n * @return :object\n */\nconst cache = (() => {\n\t/*\n\t\tThe cache... html responses from ajax requests get stored here\n\t\tWe should probably put a limit on it!\n\n\t\tkeys are beautified, with a leading slash, before storing to unsure \n\t\tprevent duplicate requests... probably a better way... hmm!\n\t\tdoes the job! \n\t*/\n\tconst cache = {}\n\n\treturn {\n\t\t/** *\n\t\t * set('string', value)\n\t\t *\n\t\t * the input is beautified, with a leading slash, before storing\n\t\t *\n\t\t * set an item into the cache\n\t\t *\n\t\t * @param :string, :any\n\t\t *\n\t\t * @return void\n\t\t */\n\t\tset(key, value) {\n\t\t\tcache[leadingSlashPath(key)] = value\n\t\t},\n\n\t\t/** *\n\t\t * get('string')\n\t\t *\n\t\t * get an item from the cache\n\t\t *\n\t\t * the input is beautified, with a leading slash, before requesting\n\t\t *\n\t\t * @param :string\n\t\t *\n\t\t * @return :any\n\t\t */\n\t\tget(key) {\n\t\t\treturn cache[leadingSlashPath(key)]\n\t\t}\n\t}\n})()\n\nexport default cache\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import cache from './cache'\n\n/** *\n * request function... ajax or cache\n *\n * @param :string - the pathname\n * @param :object - any fetch options\n * @param :string - the type of response transofmr\n *\n * @return :promise\n */\n\nexport default (\n\tpathname,\n\toptions = {\n\t\theaders: {\n\t\t\t'X-SPONJS-ROUTE': 'true'\n\t\t}\n\t},\n\ttype = 'text'\n) =>\n\tnew Promise(resolve => {\n\t\t// are we in the cache... yeah... get me and return\n\t\tif (cache.get(pathname)) {\n\t\t\tresolve(cache.get(pathname))\n\t\t\treturn\n\t\t}\n\n\t\t// no cache... lets fetch it\n\n\t\t/** *\n\t\t * native fetch\n\t\t *\n\t\t * @param :string - the pathname\n\t\t * @param :object - any fetch options\n\t\t *\n\t\t * @return :promise\n\t\t */\n\t\tfetch(pathname, options)\n\t\t\t.then(response => {\n\t\t\t\tconst { ok, status, url } = response\n\n\t\t\t\tif (ok) {\n\t\t\t\t\t// return the response transform\n\t\t\t\t\t// i.e. for html response.html(), or json: response.json()\n\t\t\t\t\treturn response[type]()\n\t\t\t\t}\n\n\t\t\t\t// things are not so good....\n\t\t\t\t// object to hold all that went wrong\n\t\t\t\tconst resp = {\n\t\t\t\t\tdata: false,\n\t\t\t\t\tok,\n\t\t\t\t\tstatus,\n\t\t\t\t\turl\n\t\t\t\t}\n\t\t\t\treturn resp\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\t// we have the goodies\n\t\t\t\t// add it to the cache\n\n\t\t\t\tif (!data.data) {\n\t\t\t\t\tcache.set(pathname, {\n\t\t\t\t\t\tdata\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// we are done here... pass the response on\n\t\t\t\tresolve(data)\n\t\t\t})\n\t})\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import pathToRegexp from 'path-to-regexp'\nimport * as R from 'ramda'\nimport * as str from '@/core/utils/strings'\nimport { matchRoute, parseUrl } from './parseUrl'\n\n/**\n * recursively loop over any route children\n * returns a functions that expects an array of routes\n *\n * @function mapChildren\n *\n * @param :string\n *\n * @return :function\n */\nfunction mapChildren(base) {\n\treturn R.compose(\n\t\tR.flatten,\n\t\tR.map(({ children, path, ...rest }) => {\n\t\t\tconst container = []\n\t\t\tconst tmpPath = path ? str.beautifyPath(`${base}${path}`) : ':regex'\n\n\t\t\tcontainer.push({\n\t\t\t\tpath: tmpPath,\n\t\t\t\tpattern: typeof path === 'string' ? false : path,\n\t\t\t\tparent: str.beautifyPath(base),\n\t\t\t\t...rest\n\t\t\t})\n\n\t\t\tif (children) {\n\t\t\t\tconst items = Array.isArray(children) ? children : [children]\n\t\t\t\tcontainer.push(mapChildren(`${base}${path}`)(items))\n\t\t\t}\n\t\t\treturn container\n\t\t})\n\t)\n}\n\n/**\n * flattens the routes into a single flat array\n *\n * @function flattenRoutes\n *\n * @param :array\n *\n * @return :array\n */\n\nexport const flattenRoutes = R.reduce((acc, curr) => {\n\tconst { path: tmpPath, children, ...rest } = curr\n\tconst tmp = []\n\n\tconst path = tmpPath\n\n\ttmp.push({ path: str.beautifyPath(tmpPath), ...rest })\n\n\tif (children) {\n\t\tconst items = Array.isArray(children) ? children : [children]\n\t\ttmp.push(...mapChildren(path)(items))\n\t}\n\n\tacc.push(...tmp)\n\n\treturn acc\n}, [])\n\n/**\n * finds all the route matches\n * gives each match a score\n * returns the route with the best score\n *\n * @function matches\n *\n * @param :array\n * @param :string\n * @param :object\n *\n * @return :object\n */\nconst matches = (routes, data) => {\n\tconst { path: slug } = data\n\n\treturn R.compose(\n\t\tR.reverse,\n\t\tR.sortBy(R.prop('score')),\n\t\tR.map(({ path, pattern, ...rest }) => {\n\t\t\tconst last = str.slugFromPath(slug)\n\t\t\tconst slugLength = str.segmentize(slug).length\n\t\t\tconst pathLength = str.segmentize(path).length\n\t\t\tlet score = 1\n\t\t\tlet pageNo = null\n\n\t\t\t// exact match?\n\t\t\tif (str.beautifyPath(slug) === path) {\n\t\t\t\tscore = 5\n\t\t\t} else {\n\t\t\t\t// pattern, and the last segment matches the regexp\n\t\t\t\tif (pattern && pathToRegexp(pattern).exec(last)) {\n\t\t\t\t\tscore = 4\n\t\t\t\t\t// get the page number\n\t\t\t\t\tpageNo = R.compose(parseInt, R.head, R.match(/\\d+/g))(last)\n\t\t\t\t} else if (slugLength === pathLength) {\n\t\t\t\t\tscore = 3\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn { route: path, score, pattern, pageNo, params: data, ...rest }\n\t\t}),\n\t\tR.filter(({ path }) => matchRoute(path)(str.beautifyPath(slug)))\n\t)(routes)\n}\n\nexport const findRoute = routes => {\n\tconst routeMap = flattenRoutes(routes)\n\treturn url => {\n\t\tconst data = parseUrl(url)\n\t\tconst { isRoot } = data\n\n\t\tif (isRoot) {\n\t\t\tconst { path: route, ...rest } = R.find(R.propEq('path', '/'))(routes)\n\n\t\t\treturn {\n\t\t\t\troute,\n\t\t\t\t...rest,\n\t\t\t\tparams: data\n\t\t\t}\n\t\t}\n\n\t\tconst match = R.head(matches(routeMap, data))\n\n\t\tif (match) {\n\t\t\treturn match\n\t\t}\n\n\t\tconst { path: route, ...rest } = R.find(R.propEq('path', '*'))(routes)\n\n\t\treturn {\n\t\t\troute,\n\t\t\t...rest,\n\t\t\tparams: data\n\t\t}\n\t}\n}\n\n// const find = findRoute(routes)\n\n// find('https://www.our.com/a/p2?test=hello#terry') // ?\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","export const setTransitionAttributes = (() => {\n\tconst $body = document.body\n\n\treturn {\n\t\tlifecycle: state => {\n\t\t\t$body.setAttribute('data-transition-state', state)\n\t\t},\n\n\t\tfrom: from => {\n\t\t\t$body.setAttribute('data-transition-from', from)\n\t\t},\n\n\t\tto: to => {\n\t\t\t$body.setAttribute('data-transition-to', to)\n\t\t},\n\n\t\ttoggleCustomBodyProp: prop => {\n\t\t\tif (prop) {\n\t\t\t\t$body.setAttribute('data-page-with', prop)\n\t\t\t} else {\n\t\t\t\t$body.removeAttribute('data-page-with')\n\t\t\t}\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","export default {\n\tel: '.page-child',\n\n\tonLoad(props) {\n\t\tconsole.info('onLoad', props) // eslint-disable-line no-console\n\t},\n\n\tshouldUnmount() {\n\t\treturn true\n\t},\n\n\tshouldMount() {\n\t\treturn true\n\t},\n\n\tonError: props => {\n\t\tconsole.warn('error loading page', props) // eslint-disable-line no-console\n\t},\n\n\tupdateDom({ wrapper, newHtml, title }) {\n\t\twrapper.innerHTML = '' // eslint-disable-line no-param-reassign\n\t\twrapper.appendChild(newHtml)\n\t\tdocument.title = title\n\t},\n\n\tonExit({ next }) {\n\t\t// console.table({ from: from.data.path, to: to.data.path, action }) // eslint-disable-line\n\t\tnext()\n\t},\n\n\tonAfterExit() {},\n\n\tonEnter({ next }) {\n\t\tnext()\n\t},\n\n\tonAfterEnter() {}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { findRoute } from './utils/paths'\nimport { setTransitionAttributes } from './utils/dom'\nimport baseTransition from './transition'\nimport request from './request'\nimport cache from './cache'\nimport historyManager from './history'\nimport eventBus from '@/core/modules/eventBus'\nimport * as Action from './actions'\nimport domify from 'domify'\n\n/** *\n * native lifecycle\n *\n * @return :object\n */\nconst lifecycle = (() => {\n\t/*\n\t\tsetup to vars to share\n\t*/\n\tlet matchRoute = () => {}\n\tlet exitTransition = {}\n\tlet enterTransition = {}\n\tlet wrapper\n\n\treturn {\n\t\t/** *\n\t\t *\n\t\t * The routes structure is gonna need a rewrite so...\n\t\t * suject to change...\n\t\t *\n\t\t * at the moment we're returing a functiona storing\n\t\t * it on the matchRoute var\n\t\t *\n\t\t * @function addRoutes\n\t\t * @param :array\n\t\t *\n\t\t * @return :lifecycle\n\t\t */\n\n\t\taddRoutes(routesObject) {\n\t\t\tmatchRoute = findRoute(routesObject)\n\t\t\thistoryManager.set('from', matchRoute(window.location.pathname))\n\t\t\treturn this\n\t\t},\n\n\t\t/** *\n\t\t *\n\t\t * assign the default wrapper...\n\t\t *\n\t\t * i'm thinking this could be overwritten on a route basis\n\t\t *\n\t\t * @function setWrapper\n\t\t * @param :HTMLElement\n\t\t *\n\t\t * @return :lifecycle\n\t\t */\n\t\tsetWrapper(node) {\n\t\t\t// assign the node to the wrapper var\n\t\t\twrapper = node\n\n\t\t\treturn this\n\t\t},\n\n\t\t/** *\n\t\t *\n\t\t * This function is called once upon load\n\t\t *\n\t\t * @function setWrapper\n\t\t * @param :string -> the pathname yeah: /blog/terry\n\t\t *\n\t\t * @return :lifecycle\n\t\t */\n\t\tonLoad(pathname) {\n\t\t\t// get the new route object\n\t\t\tconst newState = matchRoute(pathname)\n\n\t\t\t// combine the transition methods\n\t\t\tconst fn = Object.assign({}, baseTransition, newState.view)\n\n\t\t\t// all the onLoad method\n\t\t\tfn.onLoad(newState)\n\n\t\t\t// emit this bad boy\n\t\t\teventBus.emit(Action.ROUTE_TRANSITION_LOAD, newState)\n\n\t\t\tsetTransitionAttributes.lifecycle('on-load')\n\n\t\t\treturn this\n\t\t},\n\n\t\t/** *\n\t\t *\n\t\t * This is the main thing... from/request/to etc... all here\n\t\t *\n\t\t * @function transition\n\t\t * @param :string\n\t\t *\n\t\t * @return :lifecycle\n\t\t */\n\t\ttransition({ pathname, action, transition: trans, dataAttrs }) {\n\t\t\t// get the new route object\n\t\t\tconst newState = matchRoute(pathname)\n\t\t\t// have we been supplice with a transition object... no.. use the route one\n\t\t\tconst view = trans || newState.view\n\n\t\t\t// update the from history store.... <REWITE></REWITE>\n\t\t\t// historyManager.store.to = newState\n\t\t\thistoryManager.set('to', newState)\n\n\t\t\tconst from = historyManager.get('from')\n\t\t\tconst to = historyManager.get('to')\n\n\t\t\t// combine the transition methods for exit... basic + route exits\n\t\t\texitTransition = Object.assign({}, baseTransition, from.view)\n\n\t\t\t// combine the transition methods for exit... basic + route enters\n\t\t\tenterTransition = Object.assign({}, baseTransition, view)\n\n\t\t\t// setup the props to be passed to onExit and onExitComplete\n\t\t\tconst exitProps = {\n\t\t\t\tto,\n\t\t\t\tfrom,\n\t\t\t\twrapper,\n\t\t\t\toldHtml: document.querySelector(exitTransition.el),\n\t\t\t\taction,\n\t\t\t\tdataAttrs\n\t\t\t}\n\n\t\t\t/** *\n\t\t\t *\n\t\t\t * promise function... does a thing.. returns a transiton promise\n\t\t\t *\n\t\t\t * @function promise\n\t\t\t * @param :string\n\t\t\t * @param :object\n\t\t\t * @param :striobjectng\n\t\t\t *\n\t\t\t * @return :lifecycle\n\t\t\t */\n\t\t\tconst promise = (method, transition, props = {}) =>\n\t\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\t\ttransition[method]({\n\t\t\t\t\t\tnext: resolve,\n\t\t\t\t\t\tonError: reject,\n\t\t\t\t\t\t...props\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t// we have requested exit... emit\n\t\t\teventBus.emit(Action.ROUTE_TRANSITION_EXIT, exitProps)\n\n\t\t\t// log(from, to)\n\t\t\tif (from.name) {\n\t\t\t\tsetTransitionAttributes.from(from.name)\n\t\t\t}\n\t\t\tif (to.name) {\n\t\t\t\tsetTransitionAttributes.to(to.name)\n\t\t\t}\n\t\t\tsetTransitionAttributes.lifecycle('on-exit')\n\n\t\t\t// now... lets do the promise funk\n\t\t\treturn Promise.all([\n\t\t\t\tpromise('onExit', exitTransition, exitProps),\n\t\t\t\trequest(pathname)\n\t\t\t])\n\t\t\t\t.then(([, resp]) => {\n\t\t\t\t\t// more event emiiting\n\t\t\t\t\teventBus.emit(Action.ROUTE_TRANSITION_RESOLVED, exitProps)\n\n\t\t\t\t\t// do we have errors...\n\t\t\t\t\tif (resp.data && resp.data.ok === false) {\n\t\t\t\t\t\t// emit the error method\n\t\t\t\t\t\texitTransition.onError({ ...exitProps, ...resp })\n\t\t\t\t\t\t// window.location.pathname = pathname\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\n\t\t\t\t\t// get the data, assign to markup\n\t\t\t\t\tconst { data: markup } = cache.get(pathname)\n\t\t\t\t\t// conver the response html into something we can work with\n\t\t\t\t\tconst html = domify(markup)\n\n\t\t\t\t\t// get the title, and give it a clean\n\t\t\t\t\tconst title = html.querySelector('title').textContent.trim()\n\n\t\t\t\t\t// query the new newHtml for the selector defined on\n\t\t\t\t\t// this object... default = '.page-child'\n\t\t\t\t\tconst newHtml = html.querySelector(enterTransition.el)\n\n\t\t\t\t\t// props object passed to each after method\n\t\t\t\t\tconst props = {\n\t\t\t\t\t\toldHtml: document.querySelector(exitTransition.el),\n\t\t\t\t\t\twrapper,\n\t\t\t\t\t\tnewHtml,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\tfrom,\n\t\t\t\t\t\taction\n\t\t\t\t\t}\n\n\t\t\t\t\t// check... do we want to unmount the previous html\n\t\t\t\t\tconst shouldUnmount = enterTransition.shouldUnmount(props)\n\t\t\t\t\tconst shouldMount = enterTransition.shouldMount(props)\n\n\t\t\t\t\t// if we do... sure... unmount event\n\t\t\t\t\tif (shouldUnmount)\n\t\t\t\t\t\teventBus.emit(Action.ROUTE_TRANSITION_BEFORE_DOM_UPDATE, props)\n\n\t\t\t\t\t// update the dom method\n\t\t\t\t\tenterTransition.updateDom(props)\n\n\t\t\t\t\tif (to.customBodyProp) {\n\t\t\t\t\t\tconst prop = to.customBodyProp(newHtml)\n\t\t\t\t\t\tsetTransitionAttributes.toggleCustomBodyProp(prop)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTransitionAttributes.toggleCustomBodyProp(false)\n\t\t\t\t\t}\n\n\t\t\t\t\t// emit update event\n\t\t\t\t\tif (shouldMount)\n\t\t\t\t\t\teventBus.emit(Action.ROUTE_TRANSITION_AFTER_DOM_UPDATE, props)\n\n\t\t\t\t\t// no proms here.. just call this method\n\t\t\t\t\texitTransition.onAfterExit(props)\n\t\t\t\t\tsetTransitionAttributes.lifecycle('on-after-exit')\n\n\t\t\t\t\t// return that props object we made earlier\n\t\t\t\t\treturn props\n\t\t\t\t})\n\t\t\t\t.then(props => {\n\t\t\t\t\t// we have props...\n\t\t\t\t\t// it's possible we don't, we could have bailed early\n\t\t\t\t\tif (props) {\n\t\t\t\t\t\t// enter props\n\t\t\t\t\t\tconst enterProps = {\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\taction\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// emit some more\n\t\t\t\t\t\teventBus.emit(Action.ROUTE_TRANSITION_ENTER, enterProps)\n\t\t\t\t\t\tsetTransitionAttributes.lifecycle('on-enter')\n\n\t\t\t\t\t\t// cycle through the enter methods\n\t\t\t\t\t\tpromise('onEnter', enterTransition, enterProps).then(() => {\n\t\t\t\t\t\t\tenterTransition.onAfterEnter(enterProps)\n\t\t\t\t\t\t\tsetTransitionAttributes.lifecycle('done')\n\n\t\t\t\t\t\t\thistoryManager.set('from', newState)\n\t\t\t\t\t\t\teventBus.emit(Action.ROUTE_TRANSITION_COMPLETE, enterProps)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\treturn props\n\t\t\t\t})\n\t\t}\n\t}\n})()\n\nexport default lifecycle\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\nimport Worker from './fetch.worker.js'\nimport cache from './cache'\nimport { preventClick } from './utils/links'\nimport { inview } from '@/core/modules/inview'\n\n/** *\n * lazyload/prefetch items on a webworker...\n *\n * returns a function which when called requests urls and adds them to the cache\n *\n * @param :array[nodeList]\n *\n * @return :function\n *\n */\n\nexport default (() => {\n\t// setup a worker\n\tconst worker = new Worker()\n\t// setup an array to store\n\tconst errorLinks = []\n\n\tconst viewport = inview(document, {\n\t\tenter({ isIntersecting, target }) {\n\t\t\tif (isIntersecting) {\n\t\t\t\tconst links = R.compose(\n\t\t\t\t\t// reject error items\n\t\t\t\t\tR.reject(key => R.contains(key)(errorLinks)),\n\t\t\t\t\t// ignore any that are in the cache\n\t\t\t\t\tR.filter(\n\t\t\t\t\t\tpathname =>\n\t\t\t\t\t\t\tpathname !== window.location.pathname && !cache.get(pathname)\n\t\t\t\t\t),\n\t\t\t\t\t// just get the unique paths\n\t\t\t\t\tR.uniqBy(value => value),\n\t\t\t\t\t// grab the pathname\n\t\t\t\t\tR.map(R.prop('pathname'))\n\t\t\t\t)([target])\n\n\t\t\t\tif (links.length) worker.postMessage({ links })\n\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t})\n\n\t// add listen to events...\n\tworker.addEventListener('message', ({ data }) => {\n\t\t// should probably check what i'm getting here\n\t\t// but... alpha... we're getting html responses\n\n\t\tdata.forEach(({ key, data }) => {\n\t\t\tif (data) {\n\t\t\t\tcache.set(key, { data })\n\t\t\t} else {\n\t\t\t\tif (!R.contains(key)(errorLinks)) {\n\t\t\t\t\terrorLinks.push(key)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t})\n\n\tviewport.watch({\n\t\tselector: '[data-prefetch]'\n\t})\n\n\treturn nodes => {\n\t\tconst validLinks = R.filter(link => !preventClick({}, link.pathname))(nodes)\n\n\t\tviewport.destroy()\n\n\t\tviewport.watch({\n\t\t\tselector: validLinks\n\t\t})\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { createEvents } from '@/core/modules/createEvents'\nimport eventBus from '@/core/modules/eventBus'\nimport { composeProps } from '@/core/modules/refs'\nimport { preventClick, activeLinks } from './utils/links'\nimport historyManager from './history'\nimport cache from './cache'\nimport request from './request'\nimport lifecycle from './lifecycle'\nimport lazyload from './lazyload'\nimport * as Action from './actions'\n\nexport default (() => {\n\tconst defaultRoutes = [\n\t\t{\n\t\t\tpath: '/',\n\t\t\tview: {}\n\t\t},\n\t\t{\n\t\t\tpath: '*',\n\t\t\tview: {}\n\t\t}\n\t]\n\n\t/** *\n\t * @class Router\n\t * @param :object\n\t *\n\t * @return Router\n\t */\n\treturn class Router {\n\t\tconstructor({\n\t\t\troutes,\n\t\t\trootNode,\n\t\t\tnavLinks,\n\t\t\tclasses,\n\t\t\tonEnter,\n\t\t\tonExit,\n\t\t\tprefectTargets = '[data-prefetch]'\n\t\t}) {\n\t\t\t// bootup the lifecycle\n\t\t\tlifecycle\n\t\t\t\t.addRoutes(routes || defaultRoutes)\n\t\t\t\t.setWrapper(rootNode)\n\t\t\t\t.onLoad(window.location.pathname)\n\n\t\t\tthis.prefectTargets = prefectTargets\n\n\t\t\t// the root node... ?? configurable at the route level\n\t\t\tthis.$wrapper = rootNode\n\t\t\tthis.$links = activeLinks({ scope: navLinks, classes })\n\n\t\t\t// set the dom events\n\t\t\tthis.$events = createEvents.call(this, document, {\n\t\t\t\t'click a': 'onClick',\n\t\t\t\t'mouseover a': 'onMouseEnter'\n\t\t\t})\n\n\t\t\teventBus.on(Action.ROUTE_TRANSITION_BEFORE_DOM_UPDATE, (...props) => {\n\t\t\t\tonExit(...props)\n\t\t\t})\n\n\t\t\teventBus.on(Action.ROUTE_TRANSITION_AFTER_DOM_UPDATE, (...props) => {\n\t\t\t\tonEnter(...props)\n\t\t\t})\n\n\t\t\treturn this\n\t\t}\n\n\t\t/** *\n\t\t * @static goTo\n\t\t * @param :object\n\t\t *\n\t\t * @return void\n\t\t */\n\t\tstatic goTo = ({ pathname, action, dataAttrs }, transition) => {\n\t\t\tlifecycle\n\t\t\t\t.transition({ pathname, action, transition, dataAttrs })\n\t\t\t\t.then(({ action }) => {\n\t\t\t\t\tif (action === 'PUSH') {\n\t\t\t\t\t\thistoryManager.push(pathname, { attr: dataAttrs })\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\teventBus.emit(Action.ROUTER_PAGE_NOT_FOUND, err)\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\tconsole.warn(`[PREFETCH] no page found at ${err.url}`)\n\t\t\t\t})\n\t\t}\n\n\t\tonMouseEnter = (e, elm) => {\n\t\t\tconst { pathname } = elm\n\t\t\tif (!preventClick(e, elm) || cache.get(pathname)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\trequest(pathname).catch(err => {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.warn(`[PREFETCH] no page found at ${pathname}`, err)\n\t\t\t})\n\t\t}\n\n\t\tonClick = (e, elm) => {\n\t\t\tconst { pathname } = elm\n\n\t\t\tif (!preventClick(e, elm)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\te.stopPropagation()\n\t\t\te.preventDefault()\n\n\t\t\tif (pathname === window.location.pathname) return\n\n\t\t\tconst dataAttrs = composeProps([...elm.attributes])\n\n\t\t\tRouter.goTo({ pathname, dataAttrs, action: 'PUSH' })\n\t\t}\n\n\t\tmount = () => {\n\t\t\teventBus.on(Action.ROUTER_POP_EVENT, ({ pathname }) => {\n\t\t\t\tlifecycle.transition({ pathname, action: 'POP' })\n\t\t\t})\n\n\t\t\teventBus.on(\n\t\t\t\tAction.ROUTE_TRANSITION_AFTER_DOM_UPDATE,\n\t\t\t\t({ to: { params: { raw: url } } }) => {\n\t\t\t\t\tthis.$links(url)\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tthis.$events.attachAll()\n\n\t\t\treturn this\n\t\t}\n\n\t\tlazyload = () => {\n\t\t\tconst items = [...document.querySelectorAll(this.prefectTargets)]\n\t\t\tlazyload(items)\n\t\t\treturn this\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","export default (() => {\n\tlet prevHtml\n\tlet nextHtml\n\n\tconst toggleBtnState = (wrapper, type, display) => {\n\t\tconst $btn = wrapper.querySelector(`[data-pagination-${type}]`)\n\t\tif ($btn) {\n\t\t\t$btn.style.display = display\n\t\t}\n\t}\n\n\treturn {\n\t\tshouldUnmount({ from }) {\n\t\t\tconst { pagination, paginationParent } = from.options\n\n\t\t\tif (pagination || paginationParent) return false\n\n\t\t\treturn true\n\t\t},\n\n\t\tupdateDom({ wrapper, newHtml, title, from, to }) {\n\t\t\tconst { pageNo: fromPageNumber, options: fromOptions } = from\n\t\t\tconst { pageNo: toPageNumber } = to\n\t\t\tconst alienPage = !fromOptions.paginationParent && !fromOptions.pagination\n\n\t\t\t// if we are coming from a pagination page\n\n\t\t\tif (alienPage) {\n\t\t\t\tprevHtml = null\n\t\t\t\twrapper.innerHTML = '' // eslint-disable-line no-param-reassign\n\t\t\t}\n\n\t\t\t// if we are going forward\n\t\t\tif (toPageNumber > fromPageNumber) {\n\t\t\t\t// does the new page we want to insert already exist in the dom\n\t\t\t\t// this might be the case from POP actions\n\t\t\t\t// if it does already exist, do nothing and return\n\t\t\t\tconst $newHtmlAlreadyExists = wrapper.querySelector(\n\t\t\t\t\t`[data-spon-page=\"${toPageNumber}\"]`\n\t\t\t\t)\n\n\t\t\t\tif ($newHtmlAlreadyExists) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// remove the pagination button\n\t\t\t\t// if the previous html exits, that's where the button will be\n\t\t\t\t// if not look in the nextHtml sibling, that's where it's gonna be\n\n\t\t\t\t// set the current page number on data-spon-page attribute\n\t\t\t\tnewHtml.setAttribute('data-spon-page', toPageNumber)\n\n\t\t\t\t// inject into the dom\n\t\t\t\twrapper.appendChild(newHtml)\n\n\t\t\t\tconst $previousWrapper = wrapper.querySelector(\n\t\t\t\t\t`[data-spon-page=\"${toPageNumber - 1}\"]`\n\t\t\t\t)\n\t\t\t\tconst $btnWrapper = $previousWrapper || wrapper\n\n\t\t\t\tif (!alienPage) {\n\t\t\t\t\ttoggleBtnState($btnWrapper, 'next', 'none')\n\t\t\t\t\ttoggleBtnState(newHtml, 'prev', 'none')\n\t\t\t\t}\n\n\t\t\t\tif (newHtml.previousElementSibling) {\n\t\t\t\t\ttoggleBtnState(newHtml.previousElementSibling, 'prev', 'none')\n\t\t\t\t}\n\t\t\t\t// store a reference to the newly inject markup\n\t\t\t\tprevHtml = newHtml\n\t\t\t} else {\n\t\t\t\t// Going back... presuming this is via a POP action\n\t\t\t\t// If we have some previously injectec markup\n\t\t\t\t// we might want to remove it\n\t\t\t\tif (prevHtml) {\n\t\t\t\t\t// get a reference to the previous node (the page befores markup)\n\t\t\t\t\tconst tempPrev = prevHtml.previousElementSibling\n\n\t\t\t\t\t// if it exists we should remove it\n\t\t\t\t\tif (tempPrev) {\n\t\t\t\t\t\ttoggleBtnState(tempPrev, 'next', '')\n\t\t\t\t\t\tprevHtml.parentNode.removeChild(prevHtml)\n\t\t\t\t\t\tif (wrapper.children.length === 1) {\n\t\t\t\t\t\t\ttoggleBtnState(tempPrev, 'prev', '')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// update the prevHtml to the temp value, could be null\n\t\t\t\t\tprevHtml = tempPrev\n\t\t\t\t\t// reset the nextHtml\n\t\t\t\t\tnextHtml = null\n\n\t\t\t\t\t// if we don't have any previous html\n\t\t\t\t\tif (!tempPrev) {\n\t\t\t\t\t\t// empty the wrapper\n\t\t\t\t\t\twrapper.innerHTML = '' // eslint-disable-line no-param-reassign\n\t\t\t\t\t\t// set the current page number on data-spon-page attribute\n\t\t\t\t\t\tnewHtml.setAttribute('data-spon-page', toPageNumber)\n\t\t\t\t\t\t// inject into the dom\n\t\t\t\t\t\twrapper.appendChild(newHtml)\n\t\t\t\t\t\ttoggleBtnState(newHtml, 'prev', '')\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// we have no previous html so we are are trying to inject some\n\n\t\t\t\t\t// set the current page number on data-spon-page attribute\n\t\t\t\t\tnewHtml.setAttribute('data-spon-page', toPageNumber)\n\t\t\t\t\t// get tje nextHTML (i.e. the next pages)\n\t\t\t\t\tnextHtml = wrapper.querySelector(this.el)\n\t\t\t\t\t// if there is no such thing we can just inject the new markup\n\t\t\t\t\tif (!nextHtml) {\n\t\t\t\t\t\t// inject into the dom\n\t\t\t\t\t\twrapper.appendChild(newHtml)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// we do have 'nextHtml'... inject the nextHtml before the\n\t\t\t\t\t\t// existing chunk\n\t\t\t\t\t\ttoggleBtnState(nextHtml, 'prev', '')\n\t\t\t\t\t\tnextHtml = nextHtml.parentNode.insertBefore(newHtml, nextHtml)\n\t\t\t\t\t\ttoggleBtnState(newHtml, 'next', 'none')\n\t\t\t\t\t}\n\t\t\t\t\t// reset the prevHtml ref\n\t\t\t\t\tprevHtml = null\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update the title\n\t\t\tdocument.title = title\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import '@/plugins/logger'\nimport App from '@/core/App'\nimport routes from '@/views'\n\nif (module.hot) {\n\tmodule.hot.accept()\n}\n\nnew App({\n\t/** *\n\t * router\n\t *\n\t * @property routes :array - routes object\n\t * @property rootNode:HTMLElement - the root html node\n\t * @property navLinks :array - an array of links that should update on navigation\n\t * @property classes :object - clases applied to active links\n\t * @property onExit :function - called before the dom is updated\n\t * @property onEnter :function - called after the dom is updated\n\t *\n\t */\n\n\trouter: {\n\t\troutes,\n\t\trootNode: document.getElementById('page-wrapper'),\n\t\tnavLinks: [\n\t\t\t...document.querySelectorAll('header a'),\n\t\t\t...document.querySelectorAll('footer a')\n\t\t],\n\t\tclasses: {\n\t\t\tmatch: 'is-current',\n\t\t\troot: 'is-current-root',\n\t\t\tparent: 'is-current-parent'\n\t\t},\n\t\tprefectTargets: '[data-prefetch]',\n\t\tonExit() {},\n\t\tonEnter() {}\n\t},\n\n\t/** *\n\t * chunks\n\t *\n\t * @property :chunks : dynamic import of modules - function used by the loader\n\t *\n\t */\n\tchunks: behaviour => import(`@/behaviours/${behaviour}`)\n}).mount()\n","import loader from '@/core/modules/loader'\nimport eventBus from '@/core/modules/eventBus'\nimport Router from '@/core/router/'\nimport * as Actions from '@/core/router/actions'\n\nexport default (() =>\n\tclass App {\n\t\tconstructor({ router, chunks }) {\n\t\t\tif (router) {\n\t\t\t\tthis.$router = new Router({ ...router })\n\t\t\t}\n\n\t\t\tthis.$loader = loader(chunks)\n\n\t\t\tlog('MOUNT YEAH')\n\t\t}\n\n\t\tmount = () => {\n\t\t\tthis.$loader.hydrate(document)\n\n\t\t\tif (this.$router) this.$router.mount().lazyload()\n\n\t\t\teventBus.on(Actions.ROUTE_TRANSITION_BEFORE_DOM_UPDATE, () => {\n\t\t\t\tthis.$loader.unmount()\n\t\t\t})\n\n\t\t\teventBus.on(Actions.ROUTE_TRANSITION_AFTER_DOM_UPDATE, ({ newHtml }) => {\n\t\t\t\tthis.$loader.hydrate(newHtml)\n\t\t\t\tthis.$router.lazyload()\n\t\t\t})\n\t\t}\n\t})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import paginationExample from '@/views/loaders/pagination'\n\nexport default [\n\t{\n\t\tpath: '/',\n\t\tview: {},\n\t\tname: 'home-page',\n\t\tcustomBodyProp: html => {\n\t\t\tconst $hero = html.querySelector('.c-hero')\n\t\t\tif ($hero) {\n\t\t\t\treturn 'hero'\n\t\t\t}\n\t\t},\n\t\toptions: {\n\t\t\tthings: 10\n\t\t}\n\t},\n\t{\n\t\tpath: '/blog/',\n\t\tview: {},\n\t\tname: 'blog-listing',\n\t\toptions: {\n\t\t\tpaginationParent: true\n\t\t},\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: /(p)+(\\d+)/,\n\t\t\t\tname: 'pagination',\n\t\t\t\tview: {\n\t\t\t\t\t...paginationExample\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tpagination: true\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: ':id',\n\t\t\t\tname: 'blog-post',\n\t\t\t\tview: {\n\t\t\t\t\tonEnter({ next }) {\n\t\t\t\t\t\tnext()\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\toptions: {}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tpath: '*',\n\t\tname: 'default',\n\t\tview: {}\n\t}\n]\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","var map = {\n\t\"./Header\": [\n\t\t60,\n\t\t6\n\t],\n\t\"./Header.js\": [\n\t\t60,\n\t\t6\n\t],\n\t\"./HomePage\": [\n\t\t55,\n\t\t0,\n\t\t5\n\t],\n\t\"./HomePage.js\": [\n\t\t55,\n\t\t0,\n\t\t5\n\t],\n\t\"./Page1\": [\n\t\t59,\n\t\t4\n\t],\n\t\"./Page1.js\": [\n\t\t59,\n\t\t4\n\t],\n\t\"./Page2\": [\n\t\t58,\n\t\t3\n\t],\n\t\"./Page2.js\": [\n\t\t58,\n\t\t3\n\t],\n\t\"./Page3\": [\n\t\t57,\n\t\t2\n\t],\n\t\"./Page3.js\": [\n\t\t57,\n\t\t2\n\t],\n\t\"./Page4\": [\n\t\t56,\n\t\t1\n\t],\n\t\"./Page4.js\": [\n\t\t56,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 62;\nmodule.exports = webpackAsyncContext;","import debug from 'debug'\n\nwindow.log = global.log = debug('app:log') // eslint-disable-line no-multi-assign\n\n// eslint-disable-next-line no-unused-expressions\nprocess.env.NODE_ENV === 'development'\n\t? debug.enable('app:log')\n\t: debug.disable('app:log')\n\nlog(`Logging is enabled!, NODE_ENV: ${process.env.NODE_ENV}`)\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n"],"sourceRoot":""}